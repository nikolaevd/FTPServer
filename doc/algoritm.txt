1. устанавливаем "Управляющее соединение"
2. отправляем с клиента команду на отправку файла
3. большинство FTP-серверов использует по умолчанию режим передачаи ASCII, поэтому, для упрощения, в нашей программе это будет единственный режим передачи файлов

Любая команда обмена выполняется в несколько этапов:

Формирование канала под управлением клиента, так как именно клиент выдал команду get, dir, put и т.д.
Клиент выбирает произвольный номер порта на своей ЭВМ и осуществляет процедуру passive open для этого порта.
Клиент посылает номер порта серверу по каналу управления (порт 21), используя команду PORT. Можно обойтись и без команды PORT (используется тот же порт, что и в командном канале), но это увеличивает задержки и по этой причине не рекомендуется.
Сервер получает номер порта по каналу управления и выдает команду active open в указанный порт ЭВМ-клиента. Сервер для канала данных всегда использует порт с номером 20.